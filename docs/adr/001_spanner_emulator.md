---
status: 'approved'
---

# 決定
データストアとしてCloud Spanner（Emulator）を採用する。

# 文脈
このリポジトリの目的はアプリケーションアーキテクチャの検証であり、データストアの選定自体は検証対象ではない。

# 論点
- MySQL, PostgreSQL, Cloud Spannerなど複数の選択肢がある
- どのDBMSを選んでも、アプリケーションアーキテクチャの検証という目的には大きく影響しない
- 筆者が最も慣れているDBMSを採用することで、DB周りの実装コストを下げられ、アーキテクチャの検証に集中できる

# 決定時に想定した影響
- 筆者が慣れているため、DB周りの実装で詰まることが少ない。
- [spanemuboost](https://github.com/apstndb/spanemuboost)を利用することでテストケースごとに低実装コストでDBを作成できる。
- Spanner Emulatorが同時に複数読み書きトランザクションを扱うことができないため、テスト並列化に工夫が必要になる。
    - ただし、spanemuboostを利用することで手軽にテストごとにDBを作成できるためそこまで大きな問題にはならないと考えている。

# 参考
N/A
